<section data-ng-controller="TestController" class="centered-container">
  <div data-ng-show="authenticationError" class="text-center text-danger">
    <strong data-ng-bind="authenticationError"></strong>
  </div>
  <div class="side-controls" set-class-when-at-top="affix" offset-start="20" ng-hide="authenticationError">
    <h3>Score: {{score}} / {{total}}<h3>
    <a href="/#!/vocablists/">
      <button class="btn btn-primary">
        Back to list
      </button>
    </a>
    <button class="btn btn-primary" ng-click="gradeTest()" ng-show="!isSubmitted && 0 !== incompleteCount()">
      Submit
    </button>
    <button class="btn btn-primary" ng-click="retestIncorrect()" ng-show="isSubmitted && 0 !== incompleteCount()">
      Redo mistakes
    </button>
    <button class="btn btn-primary" ng-click="restartTest()">
      Restart
    </button>
  </div>
  <div data-ng-hide="authenticationError" class="test-table">
    <h2>Good luck!</h2>
    <table class="table">
      <tbody>
        <tr ng-repeat="vocab in vocablist.vocab" ng-class="{correct: vocab.correct}">
          <td>{{$index + 1}}.</td>
          <td>{{vocab.word}}</td>
          <td>
            <input type="text" ng-model="responses[$index]" ng-show="!isSubmitted && !vocab.correct"></input>
            <label ng-hide="!isSubmitted && !vocab.correct">{{vocab.translation}}</index>
          </td>
          <td ng-show="isSubmitted">
            <span class="glyphicon glyphicon-ok" ng-show="vocab.correct"></span>
            <span class="glyphicon glyphicon-remove" ng-hide="vocab.correct"></span>
          </td>
         </tr>
      </tbody>
    </table>
  </div>
</section>
